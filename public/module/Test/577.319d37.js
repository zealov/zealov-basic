"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[577],{3634:(r,e,t)=>{t.d(e,{Kz:()=>i,x4:()=>a,z2:()=>o,xx:()=>n,Vx:()=>l});var s=t(5814);function i(r){return(0,s.Z)({url:"/userList",method:"get",params:r})}function a(r){return(0,s.Z)({url:"/login",method:"post",data:r})}function o(r){return(0,s.Z)({url:"/register",method:"post",data:r})}function n(r){return(0,s.Z)({url:"/captcha",method:"post",data:r})}function l(r,e){return(0,s.Z)({url:"/userList/"+r,method:"put",data:e})}},577:(r,e,t)=>{t.r(e),t.d(e,{default:()=>o});var s=t(3634),i=t(5108);const a={layout:"default",data:function(){var r=this;return{error:{},activeTab:"accountLogin",isCodeLogin:!1,captchaImg:"",registerForm:{name:"",nick_name:"",email:"",password:"",password2:"",code:"",captchaKey:""},rules:{password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:30,message:"长度在 6 到 30 个字符",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{validator:function(r,e,t){var s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!e)return t(new Error("邮箱不能为空"));setTimeout((function(){s.test(e)?t():t(new Error("请输入正确的邮箱格式"))}),100)},required:!0,trigger:"blur"}],password2:[{min:6,max:30,message:"长度在 6 到 30 个字符",trigger:"blur"},{validator:function(e,t,s){0==t.trim().length?s(new Error("请输入确认密码")):t!=r.registerForm.password?s(new Error("两次密码不一致")):s()},required:!0,trigger:"blur"}],name:[{required:!0,message:"请输入手机号码",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的手机号"}],nick_name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},canClick:!1,isShow:!1}},watch:{$route:{handler:function(r){var e=r.query;e&&(this.redirect=e.redirect,this.otherQuery=this.getOtherQuery(e))},immediate:!0}},created:function(){this.getCaptcha()},methods:{getCaptcha:function(){var r=this;(0,s.xx)({}).then((function(e){r.captchaImg=e.data.img,r.registerForm.captchaKey=e.data.key}))},submitForm:function(){var r=this;this.$refs.registerForm.validate((function(e){if(!e)return!1;r.handleRegister()}))},userLogin:function(){},handleRegister:function(){var r=this;this.loading=!0,this.error={},(0,s.z2)(this.registerForm).then((function(e){r.$message({message:e.message,type:"success"}),i.log(e),r.loading=!1})).catch((function(e){i.log(e),r.error=e.data,r.loading=!1}))},checkCapslock:function(r){var e=r.key;this.capsTooltip=e&&1===e.length&&e>="A"&&e<="Z"},showPwd:function(){var r=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){r.$refs.password.focus()}))},getOtherQuery:function(r){return Object.keys(r).reduce((function(e,t){return"redirect"!==t&&(e[t]=r[t]),e}),{})}}};const o=(0,t(1900).Z)(a,(function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"login-page"},[t("el-scrollbar",[t("div",{staticClass:"login"},[t("div",{staticClass:"login-top"},[t("div",{staticClass:"logo-box"},[t("img",{attrs:{src:"",alt:""}}),r._v("医者仁心管理系统q11\n        ")])]),r._v(" "),t("div",{staticClass:"login-container bg-login"},[t("el-row",{attrs:{gutter:30}},[t("el-col",{staticClass:"left-col",attrs:{xs:24,sm:24,md:12}},[t("div",{staticClass:"login-left"},[t("div",{staticClass:"img"},[t("img",{attrs:{src:"/images/img_login.png",alt:""}})])])]),r._v(" "),t("el-col",{attrs:{xs:24,sm:24,md:12}},[t("div",{staticClass:"login-wrapper register-wrapper"},[t("div",{staticClass:"register"},[t("div",{staticClass:"login-title"},[r._v("\n                  注册新账号\n                ")]),r._v(" "),t("el-form",{ref:"registerForm",attrs:{model:r.registerForm,"status-icon":"",rules:r.rules,"show-message":""}},[t("el-form-item",{attrs:{prop:"nick_name",error:r.error.nick_name?r.error.nick_name[0]:""}},[t("el-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:r.registerForm.nick_name,callback:function(e){r.$set(r.registerForm,"nick_name",e)},expression:"registerForm.nick_name"}},[t("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),r._v(" "),t("el-form-item",{attrs:{prop:"name",error:r.error.name?r.error.name[0]:""}},[t("el-input",{attrs:{type:"text",placeholder:"请输入手机号作为登录账户"},model:{value:r.registerForm.name,callback:function(e){r.$set(r.registerForm,"name",e)},expression:"registerForm.name"}},[t("i",{staticClass:"el-input__icon el-icon-mobile-phone",attrs:{slot:"prefix"},slot:"prefix"})])],1),r._v(" "),t("el-form-item",{attrs:{prop:"email",error:r.error.email?r.error.email[0]:""}},[t("el-input",{attrs:{type:"text",placeholder:"请输入邮箱"},model:{value:r.registerForm.email,callback:function(e){r.$set(r.registerForm,"email",e)},expression:"registerForm.email"}},[t("i",{staticClass:"el-input__icon el-icon-position",attrs:{slot:"prefix"},slot:"prefix"})])],1),r._v(" "),t("el-form-item",{attrs:{prop:"password",error:r.error.password?r.error.password[0]:""}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:r.registerForm.password,callback:function(e){r.$set(r.registerForm,"password",e)},expression:"registerForm.password"}},[t("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),r._v(" "),t("el-form-item",{attrs:{prop:"password2"}},[t("el-input",{ref:"box",attrs:{type:"password","show-password":"",placeholder:"请再次输入密码"},model:{value:r.registerForm.password2,callback:function(e){r.$set(r.registerForm,"password2",e)},expression:"registerForm.password2"}},[t("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),r._v(" "),t("el-form-item",{staticClass:"captcha-item",attrs:{prop:"code",error:r.error.code?r.error.code[0]:""}},[t("el-input",{attrs:{type:"text",placeholder:"请输入验证码"},model:{value:r.registerForm.code,callback:function(e){r.$set(r.registerForm,"code",e)},expression:"registerForm.code"}},[t("i",{staticClass:"el-input__icon el-icon-chat-dot-round",attrs:{slot:"prefix"},slot:"prefix"})]),r._v(" "),t("img",{attrs:{src:r.captchaImg,alt:"图片验证码"},on:{click:r.getCaptcha}})],1),r._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:r.submitForm}},[r._v("\n                      立即注册\n                    ")]),r._v(" "),t("div",{staticClass:"tip-text"},[r._v("\n                      已有账号？\n                      "),t("router-link",{attrs:{to:"/admin/login"}},[r._v("\n                        前往登录\n                      ")])],1)],1)],1)],1)])])],1)],1),r._v(" "),t("div",{staticClass:"login-footer"},[r._v("\n        支持的浏览器有：IE版本9以上，Chrome,Safari,Firefox，国内浏览器请使用极速模式。 技术支持：waigaoqiao_top\n      ")])])])],1)}),[],!1,null,null,null).exports}}]);